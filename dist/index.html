<!DOCTYPE html>
<html lan="en">
<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Push Notification Demo</title>
    <meta name="apple-mobile-web-app-status-bar" content="#aa7700">
    <meta name="theme-color" content="black">
    <link href="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="./main.css">
    
    <script src="https://unpkg.com/material-components-web@latest/dist/material-components-web.min.js"></script>
    

    
    <!-- Manifest File link -->
    <link rel="manifest" href="manifest.json">
   </head>
<body>
    <header class="mdc-top-app-bar" id="top-bar">
        <div class="mdc-top-app-bar__row">
          <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start">
            <img class="mdc-top-app-bar__navigation-icon" src="favicon.ico" alt="My Logo" width="50">
            <span class="mdc-top-app-bar__title">PWA POC</span>
          </section>
          <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" role="toolbar">
            <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" title="Share">share</button>
            <button class="material-icons mdc-top-app-bar__action-item mdc-icon-button" aria-label="Options">more_vert</button>
          </section>
        </div>
      </header>
      <main class="mdc-top-app-bar--fixed-adjust">
        <div class="mdc-banner" role="banner">
            <div class="mdc-banner__content"
                 role="alertdialog"
                 aria-live="assertive">
              <div class="mdc-banner__graphic-text-wrapper">
                <div class="mdc-banner__text">
                  There was a problem processing a transaction on your credit card.
                </div>
              </div>
              <div class="mdc-banner__actions">
                <button type="button" class="mdc-button mdc-banner__secondary-action">
                  <div class="mdc-button__ripple"></div>
                  <div class="mdc-button__label">Learn more</div>
                </button>
                <button type="button" class="mdc-button mdc-banner__primary-action">
                  <div class="mdc-button__ripple"></div>
                  <div class="mdc-button__label">Fix it</div>
                </button>
              </div>
            </div>
          </div>
          <button class="mdc-fab" aria-label="Favorite" align="center" onClick="askPermission()" style="display:none" id="pushRequest">
            <div class="mdc-fab__ripple"></div>
            <span class="mdc-fab__icon material-icons">add_alert</span>
          </button>
 
        
   
      </main>


</body>
<script type="module" src="/bundle.js"></script>
<script>
const MDCBanner = mdc.banner.MDCBanner;
const banner = new MDCBanner(document.querySelector('.mdc-banner'));



//banner.open()
window.addEventListener('load', () => {
    if(Notification.permission != "granted"){
        const elem = document.getElementById("pushRequest");
        document.getElementById("pushRequest").style.display = "block";
    }
});
    

    function askPermission(){
        requestPermission()
    }

</script>
</html>